# AccessGuard: –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

<div align="center">
  <img src="img2.png" alt="Demo of SmartAdBot" width="60" />
</div>

**AccessGuard** ‚Äî —ç—Ç–æ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –≥–∏–±–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–¶–µ–ª—å **AccessGuard** ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—É—é –∏ –≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º, –≥–¥–µ:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è, –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –∏ —É–¥–∞–ª—è—Ç—å –∞–∫–∫–∞—É–Ω—Ç.
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–ª—è–º–∏, –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞.
- –î–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º —Å—Ç—Ä–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤–∏–ª.

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
   –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è          | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
 |---------------------|--------------------------------------------------------------------------|
 | **Python 3.13**     | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.                                        |
 | **FastAPI**         | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API.                                             |
 | **SQLAlchemy 2.0**  | ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.                                          |
 | **AsyncPG**         | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è PostgreSQL.                                     |
 | **Alembic**         | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.                                    |
 | **Poetry**          | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.                                               |
 | **PostgreSQL 15**   | –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.                                                |
 | **Docker**          | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.                               |
 | **Pytest**          | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API.                                                        |
 | **GitHub Actions**  | CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è.                |

---

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
AccessGuard/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ backend/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ migrations/       # –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic
‚îÇ   ‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ routers/          # –ú–∞—Ä—à—Ä—É—Ç—ã FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ schemas/          # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ Dockerfile            # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```
---

## üîê –°—Ö–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –¥–æ—Å—Ç—É–ø–∞

### 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

| –¢–∞–±–ª–∏—Ü–∞              | –û–ø–∏—Å–∞–Ω–∏–µ                                                               |
|----------------------|------------------------------------------------------------------------|
| **users**            | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã. –°–æ–¥–µ—Ä–∂–∏—Ç email, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å, –∏–º—è, —Ñ–∞–º–∏–ª–∏—é, —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ä–æ–ª—å. |
| **roles**            | –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `admin`, `user`).                      |
| **business_elements**| –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `profile`, `rule`).             |
| **access_rules**     | –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞: —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ä–æ–ª–∏ –∏ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (—á—Ç–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ). |

### 2. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è –ø–æ email –∏ –ø–∞—Ä–æ–ª—é, –ø–æ–ª—É—á–∞–µ—Ç JWT-—Ç–æ–∫–µ–Ω.
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –∏ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É.
- **–ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞**:
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ —Ä–µ—Å—É—Ä—Å–æ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ —Ä–æ–ª—å –∏–º–µ–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ `access_rules`.
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Äî **401 Unauthorized**.
  - –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø—Ä–∞–≤ ‚Äî **403 Forbidden**.

### 3. –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª

| –†–æ–ª—å       | –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å | –ß—Ç–µ–Ω–∏–µ | –°–æ–∑–¥–∞–Ω–∏–µ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –£–¥–∞–ª–µ–Ω–∏–µ |
|------------|-----------------|--------|----------|------------|----------|
| admin      | rule            | ‚úÖ      | ‚úÖ        | ‚úÖ          | ‚úÖ        |
| user       | profile         | ‚úÖ      | ‚ùå        | ‚úÖ          | ‚ùå        |

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/–≤–∞—à_–ø—Ä–æ—Ñ–∏–ª—å/AccessGuard.git
cd AccessGuard
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ app/backend/ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª .env —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
DB_USER=postgres
DB_PASS=22iamgewog22
DB_PORT=5432
DB_HOST=localhost
DB_NAME=access_guard_db
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up --build
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000.


## üìã –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
curl -X POST "http://localhost:8000/auth/register" \
-H "Content-Type: application/json" \
-d '{
    "email": "user@example.com",
    "password1": "securepassword",
    "password2": "securepassword",
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ò–≤–∞–Ω–æ–≤"
}'
```

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```
curl -X POST "http://localhost:8000/auth/login" \
-H "Content-Type: application/json" \
-d '{
    "email": "user@example.com",
    "password": "securepassword"
}'
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

```
curl -X GET "http://localhost:8000/users/me" \
-H "Cookie: my_secret_token=–≤–∞—à_jwt_—Ç–æ–∫–µ–Ω"
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

```
curl -X POST "http://localhost:8000/roles/" \
-H "Content-Type: application/json" \
-H "Cookie: my_secret_token=–≤–∞—à_jwt_—Ç–æ–∫–µ–Ω" \
-d '{
    "name": "moderator",
    "description": "–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
}'
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:

```bash
poetry run pytest tests/
```
## üìé –°—Å—ã–ª–∫–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

| –†–µ—Å—É—Ä—Å               | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 | –°—Å—ã–ª–∫–∞                                                                                     |
|----------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| **Python 3.13**      | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Python.                                          | [–°–∫–∞—á–∞—Ç—å](https://www.python.org/downloads/)                                               |
| **Poetry**           | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ Python.                          | [–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å](https://python-poetry.org/docs/#installation)                                 |
| **Docker**           | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.                                | [–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å](https://docs.docker.com/get-docker/)                                         |
| **Docker Compose**   | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.               | [–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å](https://docs.docker.com/compose/install/)                                    |
| **PostgreSQL 15**    | –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.                                                 | [–°–∫–∞—á–∞—Ç—å](https://www.postgresql.org/download/)                                           |
| **Git**              | –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.                                                 | [–°–∫–∞—á–∞—Ç—å](https://git-scm.com/downloads)                                                   |
| **FastAPI**          | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API.                                             | [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://fastapi.tiangolo.com/)                                             |
| **SQLAlchemy 2.0**   | ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.                                         | [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.sqlalchemy.org/)                                               |
| **Alembic**          | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.                                    | [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://alembic.sqlalchemy.org/en/latest/)                                  |
| **Pytest**           | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.                                              | [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.pytest.org/en/7.4.x/)                                         |
| **ChromeDriver**     | –î—Ä–∞–π–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ Chrome (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤).   | [–°–∫–∞—á–∞—Ç—å](https://chromedriver.chromium.org/downloads)                                   |

### üìù –ê–≤—Ç–æ—Ä
gewog  
üìß 224488gewog224488@gmail.com

### üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

<div align="center">
  <img src="https://media.tenor.com/1_3SkkWXJNQAAAAi/monster-cute-dog.gif" alt="Demo of SmartAdBot" width="200" />
</div>